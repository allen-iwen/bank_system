# 银行客户画像系统部署指南

本文档详细说明了如何使用一键部署脚本快速部署银行客户画像系统。根据您的操作系统选择合适的部署方式。

## 系统要求

### 基本要求
- Python 3.8+ 
- Node.js 16+
- 足够的磁盘空间（至少500MB）
- 良好的网络连接（用于下载依赖）

### 数据库选项
- SQLite（推荐，无需额外安装）
- MySQL（可选，需要单独安装）

## Windows系统部署

在Windows系统上，我们提供了PowerShell脚本进行一键部署。

### 部署步骤

1. 下载项目代码到本地
   ```
   git clone <项目地址> 银行客户画像系统
   cd 银行客户画像系统
   ```

2. 右键点击 `install.ps1` 选择"使用PowerShell运行"，或在PowerShell中执行：
   ```powershell
   .\install.ps1
   ```

3. 按照脚本提示选择数据库类型：
   - 选项1：SQLite（推荐，无需额外配置）
   - 选项2：MySQL（需要提供MySQL的root密码）

4. 脚本将自动执行以下操作：
   - 检查并安装Python环境
   - 创建并激活虚拟环境
   - 安装后端依赖
   - 检查Node.js环境
   - 安装前端依赖
   - 配置环境变量
   - 初始化数据库
   - 优化前端配置
   - 创建启动脚本

5. 部署完成后，系统会询问是否立即启动应用：
   - 如选择"y"，将启动start.ps1脚本
   - 如选择"n"，可以稍后手动运行 `.\start.ps1` 启动系统

## Linux/Mac系统部署

在Linux或Mac系统上，我们提供了Bash脚本进行一键部署。

### 部署步骤

1. 下载项目代码到本地
   ```bash
   git clone <项目地址> 银行客户画像系统
   cd 银行客户画像系统
   ```

2. 给脚本添加执行权限并运行：
   ```bash
   chmod +x install.sh
   ./install.sh
   ```

3. 按照脚本提示选择数据库类型：
   - 选项1：SQLite（推荐，无需额外配置）
   - 选项2：MySQL（需要提供MySQL的root密码）

4. 脚本将自动执行与Windows版本相同的部署步骤

5. 部署完成后，选择是否立即启动系统：
   - 如选择"y"，将运行start.sh脚本
   - 如选择"n"，可以稍后手动运行 `./start.sh` 启动系统

## 启动应用

部署完成后，可以使用创建的启动脚本来运行应用：

### Windows:
```powershell
.\start.ps1
```

### Linux/Mac:
```bash
./start.sh
```

启动脚本提供三个选项：
1. 仅启动后端（Flask API）
2. 仅启动前端（Vite开发服务器）
3. 同时启动前端和后端（推荐）

## 访问系统

系统启动后，可通过以下地址访问：
- 前端界面: http://localhost:5173
- 后端API: http://localhost:5000/api

## 测试账号

系统自动创建以下测试账号：
- 管理员: admin / admin123
- 客户经理: manager1-3 / 123456
- 客户: customer1-10 / 123456

## 常见问题

### 1. 安装失败问题
- 确保网络连接正常
- 确保已安装相应版本的Python和Node.js
- Windows用户可尝试以管理员权限运行脚本
- Linux/Mac用户可能需要安装额外的开发工具包

### 2. 运行问题
- 确保数据库配置正确
- 检查端口5000和5173是否被占用
- 查看控制台错误信息
- 检查防火墙设置

### 3. 数据库选择建议
- 开发环境：SQLite简单易用，无需额外配置
- 生产环境：建议使用MySQL，性能和可靠性更好

### 4. 如何切换数据库
如果您想在安装后切换数据库类型：
1. 编辑`.env`文件，修改`DATABASE_URL`
2. 重新运行安装脚本，或手动初始化数据库

## 自定义配置

高级用户可以手动修改以下文件进行自定义配置：
- `.env`: 环境变量和数据库配置
- `vite.config.js`: 前端开发服务器配置
- `config.py`: 后端应用配置

## 支持与反馈

如遇部署问题，请联系系统管理员或在项目仓库提交Issue。 